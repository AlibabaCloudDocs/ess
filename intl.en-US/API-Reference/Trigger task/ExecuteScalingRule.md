# ExecuteScalingRule {#doc_api_Ess_ExecuteScalingRule .reference}

You can call this operation to execute a specified scaling rule.

## Description {#description .section}

-   The operation can be called only when the scaling group is in the **Active** state.
-   The operation can be called only when the scaling group does not have any scaling activities in progress.
-   If the scaling group does not have any scaling activities in progress, the operation can be immediately executed without the need to wait for the cooldown period to expire.
-   When this operation is called, Auto Scaling has received the request. However, it is not guaranteed that the scaling activity can be executed as intended. You can determine the status of the scaling activity based on the returned ScalingActivityId parameter value.
-   If the number of ECS instances to be attached would leave the number of instances in the scaling group greater than MaxSize, the rule Total Capacity = MaxSize is applied.
-   If the number of ECS instances to be detached would leave the number of instances in the scaling group less than MinSize, the rule Total Capacity = MinSize is applied.
-   A single Alibaba Cloud account can have a maximum of 1,000 automatically created ECS instances across all scaling groups for all regions. ECS instances that are manually added to scaling groups are not affected by and do not count towards this limit.

## Debugging {#apiExplorer .section}

[OpenAPI Explorer](https://api.aliyun.com/#product=Ess&api=ExecuteScalingRule) simplifies API usage. You can use OpenAPI Explorer to perform debugging operations, such as retrieve APIs, call APIs, and dynamically generate SDK example code.

## Request parameters {#parameters .section}

|Parameter|Type|Required|Example|Description|
|---------|----|--------|-------|-----------|
|ScalingRuleAri|String|Yes|ari:acs:ess:cn-qingdao:1344371:scalingRule/cCBpdYdQuBe2cUxOdu6\*\*\*\*| The unique identifier of the scaling rule.

 |
|Action|String|No|ExecuteScalingRule| The operation that you want to perform. Set the value to ExecuteScalingRule.

 |
|BreachThreshold|Float|No|1.0| The threshold specified when the step scaling rule is executed. Valid values: -9.999999E18 to 9.999999E18.

 |
|ClientToken|String|No|123e4567-e89b-12d3-a456-426655440000| The client token used to guarantee the idempotency of requests. The parameter value is generated by the client and must be unique among different requests. The maximum length is 64 ASCII characters. For more information, see Appendix [How to ensure idempotency](~~25965~~).

 |
|MetricValue|Float|No|1.0| The metric value specified when the step scaling rule is executed. Valid values: -9.999999E18 to 9.999999E18.

 |

## Response parameters {#resultMapping .section}

|Parameter|Type|Example|Description|
|---------|----|-------|-----------|
|RequestId|String|473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E| The ID of the request. This parameter is returned regardless of whether the operation is successful.

 |
|ScalingActivityId|String|ebta5WbUzC8gcwUWvfch\*\*\*\*| The ID of the scaling activity.

 |

## Examples {#demo .section}

Sample requests

``` {#request_demo}

http://ess.aliyuncs.com/?Action=ExecuteScalingRule
&ScalingRuleAri=ari:acs:ess:cn-qingdao:1344371:scalingRule/cCBpdYdQuBe2cUxOdu6****
&<Common request parameters>

```

Successful response examples

`XML` format

``` {#xml_return_success_demo}
<ExecuteScalingRuleResponse> 
  <ScalingActivityId>ebta5WbUzC8gcwUWvfchyT4U</ScalingActivityId> 
  <RequestId>473469C7-AA6F-4DC5-B3DB-A3DC0DE3****</RequestId>
</ExecuteScalingRuleResponse> 

```

`JSON` format

``` {#json_return_success_demo}
{
	"RequestId":"473469C7-AA6F-4DC5-B3DB-A3DC0DE3C83E",
	"ScalingActivityId":"ebta5WbUzC8gcwUWvfch****"
}
```

## Error codes {#section_uqn_9g6_egn .section}

[View error codes](https://error-center.aliyun.com/status/product/Ess)

| HTTP status code

 | Error code

 | Error message

 | Description

 |
|--------------------|--------------|-----------------|---------------|
| 404

 | InvalidScalingRuleAri.NotFound

 | The specified scaling rule Ari does not exist.

 | The error message returned when the specified scaling rule does not exist in the current account.

 |
| 403

 | Forbidden.Unauthorized

 | A required authorization for the specified action is not supplied.

 | The error message returned when Auto Scaling is not authorized to call the specified operation.

 |
| 400

 | IncorrectScalingGroupStatus

 | The current status of the specified scaling group does not support this action.

 | The error message returned when the scaling group to which the specified scaling rule belongs is not active.

 |
| 400

 | ScalingActivityInProgress

 | You cannot delete a scaling group or launch a new scaling activity while there is a scaling activity in progress for the specified scaling group.

 | The error message returned when the scaling group to which the specified scaling rule belongs currently has a scaling activity in progress.

 |
| 400

 | InsufficientBalance

 | Your account does not have enough balance.

 | The error message returned when your account balance is insufficient.

 |
| 400

 | QuotaExceed.Instance

 | Living instance quota exceeded.

 | The error message returned when the number of ECS instances in the current account reaches the upper limit.

 |
| 400

 | IncorrectLoadBalancerStatus

 | The current status of the specified load balancer does not support this action.

 | The error message returned when an SLB instance for the scaling group to which the specified scaling rule belongs is not active.

 |
| 400

 | IncorrectLoadBalancerHealthCheck

 | The current health check type of specified load balancer does not support this action.

 | The error message returned when health check is not enabled for an SLB instance of the scaling group to which the specified scaling rule belongs.

 |
| 400

 | InvalidLoadBalancerId.IncorrectInstanceNetworkType

 | The network type of the instance in specified load balancer does not support this action.

 | The error message returned when the network type of the ECS instance attached to the specified SLB instance is different than that of the scaling group.

 |
| 400

 | InvalidLoadBalancerId.VPCMismatch

 | The specified virtual switch and the instance in specified load balancer are not in the same VPC.

 | The error message returned when the ECS instance attached to an SLB instance for the specified scaling group is not in the same VPC as the VSwitch.

 |
| 400

 | IncorrectDBInstanceStatus

 | The current status of DB instance "XXX" does not support this action.

 | The error message returned when an ApsaraDB for RDS instance for the scaling group to which the specified scaling rule belongs is not running.

 |
| 400

 | QuotaExceeded.DBInstanceSecurityIP

 | Security IP quota exceeded in DB instance "XXX".

 | The error message returned when the number of IP addresses in the whitelist that can access an ApsaraDB for RDS instance for the scaling group to which the specified scaling rule belongs reaches the upper limit.

 |
| 400

 | QuotaExceeded.SecurityGroupInstance

 | Instance quota exceeded in the specified security group.

 | The error message returned when the number of ECS instances in the specified security group reaches the upper limit.

 |
| 400

 | IncorrectCapacity.NoChange

 | To execute the specified scaling rule, the total capacity will not change.

 | The error message returned when no changes to the number of instances in the scaling group are made after the scaling rule is executed.

 |
| 400

 | QuotaExceeded.ScalingInstance

 | Scaling instance quota exceeded.

 | The error message returned when the number of ECS instances to be scaled reaches the upper limit.

 |
| 400

 | QuotaExceeded.AfterpayInstance

 | Living afterpay instance quota exceeded.

 | The error message returned when the number of Pay-As-You-Go ECS instances to be used reaches the upper limit.

 |
| 400

 | ResourceNotAvailable.ECS

 | The specified region or zone does not offer the specified disk or instance category.

 | The error message returned when the specified type of ECS instance or disk cannot be created in the specified region.

 |
| 400

 | ScalingRule.InvalidScalingRuleType

 | Specific scaling rule type: %s can not be executed.

 | The error message returned when the specified type of scaling rule cannot be executed.

 |
| 400

 | InvalidStepAdjustments.NoStepFound

 | No adjustment step found for a metric value of: %s.

 | The error message returned when no matching adjustment steps are found for the specified metric.

 |
| 400

 | MissingParameter.MetricValue

 | Metric value must be specified for StepScalingRule.

 | The error message returned when no metric value is specified for the step scaling rule.

 |
| 400

 | MissingParameter.BreachThreshold

 | Breach threshold must be specified for StepScalingRule.

 | The error message returned when no threshold is specified for the step scaling rule.

 |
| 400

 | MetricValueBeyondPermitRange

 | Specific parameter "%s" beyond permit range.

 | The error message returned when the specified metric value is invalid.

 |
| 400

 | BreachThresholdBeyondPermitRange

 | Specific parameter "%s" beyond permit range.

 | The error message returned when the specified threshold is invalid.

 |

