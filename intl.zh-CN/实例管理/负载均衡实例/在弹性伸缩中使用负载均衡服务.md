# 在弹性伸缩中使用负载均衡服务

伸缩组支持关联负载均衡实例，通过负载均衡实例将访问流量分发到伸缩组内的多个ECS实例，有效增强伸缩组的服务能力。

-   您持有一个或多个处于**运行中**状态的负载均衡实例，具体操作请参见[创建负载均衡实例](/intl.zh-CN/传统型负载均衡CLB/用户指南/实例/创建负载均衡实例.md)。
-   负载均衡实例和伸缩组必须位于同一地域。
-   如果负载均衡实例和伸缩组的网络类型均为专有网络，则必须位于同一专有网络。
-   当负载均衡实例的网络类型为经典网络，伸缩组的网络类型为专有网络时，如果负载均衡实例的后端服务器组中包含专有网络ECS实例，该ECS实例必须与伸缩组位于同一专有网络。
-   负载均衡实例配置至少一个监听，具体操作请参见[监听概述](/intl.zh-CN/传统型负载均衡CLB/用户指南/监听/监听概述.md)。
-   负载均衡实例必须开启健康检查，具体操作请参见[配置健康检查](/intl.zh-CN/传统型负载均衡CLB/用户指南/健康检查/配置健康检查.md)。

负载均衡服务通过设置虚拟服务地址，将添加的同一地域的多个ECS实例虚拟成一个高性能、高可用的应用服务池。简单来说，负载均衡服务通过组合负载均衡实例 、监听和后端服务器，提供流量分发控制服务。更多信息，请参见[什么是负载均衡](/intl.zh-CN/传统型负载均衡CLB/产品简介/什么是负载均衡.md)。

伸缩组关联负载均衡实例后，无论是伸缩组自动创建ECS实例，还是您向伸缩组手动添加ECS实例，ECS实例都会自动加入到负载均衡实例的后端服务器组。负载均衡实例会根据流量分发、健康检查等策略灵活使用ECS实例资源，在资源弹性的基础上大大提高资源可用性。

**说明：** 这些ECS实例的权重默认为50，您可以根据需要在对应负载均衡实例中调整权重，具体操作请参见[编辑后端服务器的权重](/intl.zh-CN/传统型负载均衡CLB/用户指南/后端服务器/默认服务器组/编辑后端服务器的权重.md)。

## 操作步骤

本步骤重点介绍负载均衡实例相关的控制台操作，如需了解其它配置，请参见[创建伸缩组](/intl.zh-CN/伸缩组/伸缩组/创建伸缩组.md)。

1.  登录[弹性伸缩控制台](https://essnew.console.aliyun.com/)。

2.  在左侧导航栏中，单击**伸缩组管理**。

3.  在顶部菜单栏处，选择地域。

4.  进入伸缩组关联负载均衡实例的页面。

    -   创建关联负载均衡实例的伸缩组时，单击**创建伸缩组**。
    -   修改未配置负载均衡实例的伸缩祖时，找到待操作的伸缩组，在**操作**列中，单击**修改**。
5.  （可选）配置**网络类型**。

    伸缩组的网络类型在创建伸缩组时指定，不支持修改。

6.  配置**关联负载均衡**。

    1.  选择负载均衡实例。

        一个伸缩组可以关联的负载均衡实例数量有限，详细信息请参见[使用限制](/intl.zh-CN/产品简介/使用限制.md)。如果没有出现可选的负载均衡实例，请检查您的负载均衡实例是否满足前提条件。

    2.  选择负载均衡实例的后端服务器组。

        伸缩组支持选择默认服务器组和虚拟服务器组，更多信息请参见[后端服务器概述](/intl.zh-CN/传统型负载均衡CLB/用户指南/后端服务器/后端服务器概述.md)。

        -   默认服务器组用于接收前端请求的ECS实例。如果监听没有设置虚拟服务器组或主备服务器组，默认将请求转发至默认服务器组中的ECS。
        -   虚拟服务器组用于将不同的请求转发到不同的后端服务器上，或通过域名和URL进行请求转发。
7.  根据需要配置其余选项。


**相关文档**  


[CreateScalingGroup](/intl.zh-CN/API参考/伸缩组/CreateScalingGroup.md)

[AttachLoadBalancers](/intl.zh-CN/API参考/伸缩组/AttachLoadBalancers.md)

[DetachLoadBalancers](/intl.zh-CN/API参考/伸缩组/DetachLoadBalancers.md)

[AttachVServerGroups](/intl.zh-CN/API参考/伸缩组/AttachVServerGroups.md)

[DetachVServerGroups](/intl.zh-CN/API参考/伸缩组/DetachVServerGroups.md)

